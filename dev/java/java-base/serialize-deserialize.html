<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>序列化与反序列化 | yupaits的博客</title>
    <meta name="description" content="俯仰一生，最惧无为。">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/favicon.ico">
  <meta name="robots" content="all">
  <meta name="author" content="yupaits">
  <meta name="keywords" content="yupaits, YupaiTS, 博客">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <script data-ad-client="ca-pub-8239100633886634" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script src="https://hm.baidu.com/hm.js?f4c5dd32b8bff25dd776c28eb5bf436d"></script>
    
    <link rel="preload" href="/assets/css/0.styles.e181d943.css" as="style"><link rel="preload" href="/assets/js/app.be6754e0.js" as="script"><link rel="preload" href="/assets/js/2.b231213b.js" as="script"><link rel="preload" href="/assets/js/150.b4ba514a.js" as="script"><link rel="prefetch" href="/assets/js/10.532a397b.js"><link rel="prefetch" href="/assets/js/100.9864e06e.js"><link rel="prefetch" href="/assets/js/101.97737725.js"><link rel="prefetch" href="/assets/js/102.e2329766.js"><link rel="prefetch" href="/assets/js/103.1f7fa675.js"><link rel="prefetch" href="/assets/js/104.7aa87c64.js"><link rel="prefetch" href="/assets/js/105.92643e99.js"><link rel="prefetch" href="/assets/js/106.01e3a34d.js"><link rel="prefetch" href="/assets/js/107.e406f728.js"><link rel="prefetch" href="/assets/js/108.5c1a4673.js"><link rel="prefetch" href="/assets/js/109.2cc1aaca.js"><link rel="prefetch" href="/assets/js/11.69a65dfb.js"><link rel="prefetch" href="/assets/js/110.ad17bbd8.js"><link rel="prefetch" href="/assets/js/111.af508a27.js"><link rel="prefetch" href="/assets/js/112.6afc7e63.js"><link rel="prefetch" href="/assets/js/113.b7933657.js"><link rel="prefetch" href="/assets/js/114.e35ab1e9.js"><link rel="prefetch" href="/assets/js/115.4bc27c6a.js"><link rel="prefetch" href="/assets/js/116.b35bb975.js"><link rel="prefetch" href="/assets/js/117.72399f7a.js"><link rel="prefetch" href="/assets/js/118.4e80922a.js"><link rel="prefetch" href="/assets/js/119.91173c1a.js"><link rel="prefetch" href="/assets/js/12.c2e37cad.js"><link rel="prefetch" href="/assets/js/120.ead473be.js"><link rel="prefetch" href="/assets/js/121.bd70beb7.js"><link rel="prefetch" href="/assets/js/122.1d522023.js"><link rel="prefetch" href="/assets/js/123.95d223cc.js"><link rel="prefetch" href="/assets/js/124.8da3bfd2.js"><link rel="prefetch" href="/assets/js/125.91f44996.js"><link rel="prefetch" href="/assets/js/126.0f7f776d.js"><link rel="prefetch" href="/assets/js/127.9d68a0c7.js"><link rel="prefetch" href="/assets/js/128.5f187d1b.js"><link rel="prefetch" href="/assets/js/129.e0ac4823.js"><link rel="prefetch" href="/assets/js/13.8bead064.js"><link rel="prefetch" href="/assets/js/130.712d8cf3.js"><link rel="prefetch" href="/assets/js/131.7a1c5d78.js"><link rel="prefetch" href="/assets/js/132.658536b1.js"><link rel="prefetch" href="/assets/js/133.3831803a.js"><link rel="prefetch" href="/assets/js/134.868f193b.js"><link rel="prefetch" href="/assets/js/135.3029b7c1.js"><link rel="prefetch" href="/assets/js/136.d1bf1bdd.js"><link rel="prefetch" href="/assets/js/137.0dca1e97.js"><link rel="prefetch" href="/assets/js/138.1d96f2f8.js"><link rel="prefetch" href="/assets/js/139.525a15a7.js"><link rel="prefetch" href="/assets/js/14.f5883213.js"><link rel="prefetch" href="/assets/js/140.1fca04f5.js"><link rel="prefetch" href="/assets/js/141.ed2c68f0.js"><link rel="prefetch" href="/assets/js/142.edd4ae84.js"><link rel="prefetch" href="/assets/js/143.4d2a5f89.js"><link rel="prefetch" href="/assets/js/144.9dd560fd.js"><link rel="prefetch" href="/assets/js/145.32d4dc35.js"><link rel="prefetch" href="/assets/js/146.f6cfc200.js"><link rel="prefetch" href="/assets/js/147.d9865ff1.js"><link rel="prefetch" href="/assets/js/148.6441911f.js"><link rel="prefetch" href="/assets/js/149.b88867ea.js"><link rel="prefetch" href="/assets/js/15.3c9a6438.js"><link rel="prefetch" href="/assets/js/151.0bfa6f22.js"><link rel="prefetch" href="/assets/js/152.da1b77d9.js"><link rel="prefetch" href="/assets/js/153.93c1ad20.js"><link rel="prefetch" href="/assets/js/154.0525da99.js"><link rel="prefetch" href="/assets/js/155.bc4a5e7a.js"><link rel="prefetch" href="/assets/js/156.b702d90b.js"><link rel="prefetch" href="/assets/js/157.eb49aeca.js"><link rel="prefetch" href="/assets/js/158.98752f04.js"><link rel="prefetch" href="/assets/js/159.23a3f9f6.js"><link rel="prefetch" href="/assets/js/16.9208d481.js"><link rel="prefetch" href="/assets/js/160.6dcab1d7.js"><link rel="prefetch" href="/assets/js/161.1181768b.js"><link rel="prefetch" href="/assets/js/162.12f3a4e0.js"><link rel="prefetch" href="/assets/js/163.b7292040.js"><link rel="prefetch" href="/assets/js/164.c7674111.js"><link rel="prefetch" href="/assets/js/165.58aa01a8.js"><link rel="prefetch" href="/assets/js/166.dd41706e.js"><link rel="prefetch" href="/assets/js/167.068e4739.js"><link rel="prefetch" href="/assets/js/168.247933d3.js"><link rel="prefetch" href="/assets/js/169.2f926792.js"><link rel="prefetch" href="/assets/js/17.7ca9c5e7.js"><link rel="prefetch" href="/assets/js/170.d61169a5.js"><link rel="prefetch" href="/assets/js/171.98e1b119.js"><link rel="prefetch" href="/assets/js/172.ad84205f.js"><link rel="prefetch" href="/assets/js/173.876d95ba.js"><link rel="prefetch" href="/assets/js/174.ba9cf9ab.js"><link rel="prefetch" href="/assets/js/175.1f82b081.js"><link rel="prefetch" href="/assets/js/176.559005c3.js"><link rel="prefetch" href="/assets/js/177.cdc7bc49.js"><link rel="prefetch" href="/assets/js/178.627da381.js"><link rel="prefetch" href="/assets/js/179.8fbe9510.js"><link rel="prefetch" href="/assets/js/18.138d1a13.js"><link rel="prefetch" href="/assets/js/180.cc66e3fe.js"><link rel="prefetch" href="/assets/js/181.bfd79602.js"><link rel="prefetch" href="/assets/js/182.e36b0058.js"><link rel="prefetch" href="/assets/js/183.29702f9f.js"><link rel="prefetch" href="/assets/js/184.5f7a6282.js"><link rel="prefetch" href="/assets/js/185.b322a28c.js"><link rel="prefetch" href="/assets/js/186.cc2cb168.js"><link rel="prefetch" href="/assets/js/187.aaf244a6.js"><link rel="prefetch" href="/assets/js/188.7be1a18d.js"><link rel="prefetch" href="/assets/js/189.48652567.js"><link rel="prefetch" href="/assets/js/19.1635781c.js"><link rel="prefetch" href="/assets/js/190.a4b7318e.js"><link rel="prefetch" href="/assets/js/191.6ef8228d.js"><link rel="prefetch" href="/assets/js/192.387a7fb2.js"><link rel="prefetch" href="/assets/js/193.3b776e2b.js"><link rel="prefetch" href="/assets/js/194.dddb821f.js"><link rel="prefetch" href="/assets/js/195.ad3dd370.js"><link rel="prefetch" href="/assets/js/196.27833ab6.js"><link rel="prefetch" href="/assets/js/197.187d0046.js"><link rel="prefetch" href="/assets/js/198.e2024b11.js"><link rel="prefetch" href="/assets/js/199.94013bee.js"><link rel="prefetch" href="/assets/js/20.386f29ca.js"><link rel="prefetch" href="/assets/js/200.f501f5e2.js"><link rel="prefetch" href="/assets/js/201.f61953a7.js"><link rel="prefetch" href="/assets/js/202.2a0e2a76.js"><link rel="prefetch" href="/assets/js/203.7a958309.js"><link rel="prefetch" href="/assets/js/204.27252484.js"><link rel="prefetch" href="/assets/js/205.bd7a641d.js"><link rel="prefetch" href="/assets/js/206.47e54418.js"><link rel="prefetch" href="/assets/js/207.a83c2167.js"><link rel="prefetch" href="/assets/js/208.16624fa1.js"><link rel="prefetch" href="/assets/js/209.ed76286f.js"><link rel="prefetch" href="/assets/js/21.7f3e3c32.js"><link rel="prefetch" href="/assets/js/210.36fbc775.js"><link rel="prefetch" href="/assets/js/211.700759cd.js"><link rel="prefetch" href="/assets/js/212.8d0e7d17.js"><link rel="prefetch" href="/assets/js/213.59a78838.js"><link rel="prefetch" href="/assets/js/214.fcd1bc02.js"><link rel="prefetch" href="/assets/js/215.608d0ad9.js"><link rel="prefetch" href="/assets/js/216.91d62ee2.js"><link rel="prefetch" href="/assets/js/217.5f552b2f.js"><link rel="prefetch" href="/assets/js/218.96f5bf75.js"><link rel="prefetch" href="/assets/js/219.8d7834ad.js"><link rel="prefetch" href="/assets/js/22.2a2fd5bc.js"><link rel="prefetch" href="/assets/js/220.fdddff0e.js"><link rel="prefetch" href="/assets/js/221.3f2f6a12.js"><link rel="prefetch" href="/assets/js/222.2d3cf0ac.js"><link rel="prefetch" href="/assets/js/223.e89d69e3.js"><link rel="prefetch" href="/assets/js/224.cbcbd77c.js"><link rel="prefetch" href="/assets/js/225.92709bbf.js"><link rel="prefetch" href="/assets/js/226.095dccfc.js"><link rel="prefetch" href="/assets/js/227.c6632086.js"><link rel="prefetch" href="/assets/js/228.9cd09b09.js"><link rel="prefetch" href="/assets/js/229.d9f532a2.js"><link rel="prefetch" href="/assets/js/23.803fb6c4.js"><link rel="prefetch" href="/assets/js/230.1ad54909.js"><link rel="prefetch" href="/assets/js/231.ab6ca022.js"><link rel="prefetch" href="/assets/js/232.5af2031b.js"><link rel="prefetch" href="/assets/js/233.4c85e3db.js"><link rel="prefetch" href="/assets/js/234.c2926434.js"><link rel="prefetch" href="/assets/js/235.0ef69752.js"><link rel="prefetch" href="/assets/js/236.cda3b33f.js"><link rel="prefetch" href="/assets/js/24.e3d49d48.js"><link rel="prefetch" href="/assets/js/25.ed48579f.js"><link rel="prefetch" href="/assets/js/26.45bdc8da.js"><link rel="prefetch" href="/assets/js/27.309dce7d.js"><link rel="prefetch" href="/assets/js/28.96052f8a.js"><link rel="prefetch" href="/assets/js/29.f026f55f.js"><link rel="prefetch" href="/assets/js/3.753c2a00.js"><link rel="prefetch" href="/assets/js/30.70390d56.js"><link rel="prefetch" href="/assets/js/31.7475f5e7.js"><link rel="prefetch" href="/assets/js/32.fdc389b3.js"><link rel="prefetch" href="/assets/js/33.b029a768.js"><link rel="prefetch" href="/assets/js/34.cfcb1892.js"><link rel="prefetch" href="/assets/js/35.086f04e2.js"><link rel="prefetch" href="/assets/js/36.b44109ae.js"><link rel="prefetch" href="/assets/js/37.fd897119.js"><link rel="prefetch" href="/assets/js/38.fac41535.js"><link rel="prefetch" href="/assets/js/39.60a1c751.js"><link rel="prefetch" href="/assets/js/4.d346835d.js"><link rel="prefetch" href="/assets/js/40.d3088236.js"><link rel="prefetch" href="/assets/js/41.4ca7ce81.js"><link rel="prefetch" href="/assets/js/42.643d88f5.js"><link rel="prefetch" href="/assets/js/43.9f2909f4.js"><link rel="prefetch" href="/assets/js/44.d9470a80.js"><link rel="prefetch" href="/assets/js/45.e4b68c0e.js"><link rel="prefetch" href="/assets/js/46.f1d961d3.js"><link rel="prefetch" href="/assets/js/47.5dd02d26.js"><link rel="prefetch" href="/assets/js/48.105fbe67.js"><link rel="prefetch" href="/assets/js/49.5106b49b.js"><link rel="prefetch" href="/assets/js/5.11273bae.js"><link rel="prefetch" href="/assets/js/50.faa417d8.js"><link rel="prefetch" href="/assets/js/51.4beb4c36.js"><link rel="prefetch" href="/assets/js/52.f7851300.js"><link rel="prefetch" href="/assets/js/53.bd3c6b2c.js"><link rel="prefetch" href="/assets/js/54.a12c6d18.js"><link rel="prefetch" href="/assets/js/55.a8ae597d.js"><link rel="prefetch" href="/assets/js/56.6c268e9c.js"><link rel="prefetch" href="/assets/js/57.a1d035c8.js"><link rel="prefetch" href="/assets/js/58.0e323b60.js"><link rel="prefetch" href="/assets/js/59.6bad7aa8.js"><link rel="prefetch" href="/assets/js/6.4f70b6c6.js"><link rel="prefetch" href="/assets/js/60.50a51bea.js"><link rel="prefetch" href="/assets/js/61.a37041cd.js"><link rel="prefetch" href="/assets/js/62.83f5df93.js"><link rel="prefetch" href="/assets/js/63.1af56e46.js"><link rel="prefetch" href="/assets/js/64.ca16ea4e.js"><link rel="prefetch" href="/assets/js/65.b1d2a6bc.js"><link rel="prefetch" href="/assets/js/66.eb95a06b.js"><link rel="prefetch" href="/assets/js/67.4af06425.js"><link rel="prefetch" href="/assets/js/68.e6bad176.js"><link rel="prefetch" href="/assets/js/69.0c392bd4.js"><link rel="prefetch" href="/assets/js/7.2a205ba4.js"><link rel="prefetch" href="/assets/js/70.497ab2d2.js"><link rel="prefetch" href="/assets/js/71.8d47c866.js"><link rel="prefetch" href="/assets/js/72.724049e5.js"><link rel="prefetch" href="/assets/js/73.37b544fa.js"><link rel="prefetch" href="/assets/js/74.044264e3.js"><link rel="prefetch" href="/assets/js/75.e7ffb025.js"><link rel="prefetch" href="/assets/js/76.d0c84070.js"><link rel="prefetch" href="/assets/js/77.76d94a9c.js"><link rel="prefetch" href="/assets/js/78.f5b0a848.js"><link rel="prefetch" href="/assets/js/79.c3d62946.js"><link rel="prefetch" href="/assets/js/8.e6767f0e.js"><link rel="prefetch" href="/assets/js/80.07a83d13.js"><link rel="prefetch" href="/assets/js/81.713c4293.js"><link rel="prefetch" href="/assets/js/82.9a993923.js"><link rel="prefetch" href="/assets/js/83.8b66c5b3.js"><link rel="prefetch" href="/assets/js/84.22d54e61.js"><link rel="prefetch" href="/assets/js/85.2872caf2.js"><link rel="prefetch" href="/assets/js/86.d6ed6733.js"><link rel="prefetch" href="/assets/js/87.da7a6e2c.js"><link rel="prefetch" href="/assets/js/88.a74bc19f.js"><link rel="prefetch" href="/assets/js/89.db979055.js"><link rel="prefetch" href="/assets/js/9.28548e72.js"><link rel="prefetch" href="/assets/js/90.7e770425.js"><link rel="prefetch" href="/assets/js/91.aa11ffbb.js"><link rel="prefetch" href="/assets/js/92.194bb2e5.js"><link rel="prefetch" href="/assets/js/93.ad1ab931.js"><link rel="prefetch" href="/assets/js/94.82f7a4f2.js"><link rel="prefetch" href="/assets/js/95.e1263cca.js"><link rel="prefetch" href="/assets/js/96.1060bdfc.js"><link rel="prefetch" href="/assets/js/97.d39b9e43.js"><link rel="prefetch" href="/assets/js/98.b7980da1.js"><link rel="prefetch" href="/assets/js/99.cd1a9b93.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e181d943.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.ico" alt="yupaits的博客" class="logo"> <span class="site-name can-hide">yupaits的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/posts/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  设计
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  开发
</a></div><div class="nav-item"><a href="/sites.html" class="nav-link">
  站点
</a></div><div class="nav-item"><a href="/tools.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  项目
</a></div><div class="nav-item"><a href="/books.html" class="nav-link">
  书单
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="快捷入口" class="dropdown-title"><span class="title">快捷入口</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/yupaits" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yupaits" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yupaits" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/u/yupaits/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/java/java-base/serialize-deserialize.html" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/yupaits" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/posts/" class="nav-link">
  文章
</a></div><div class="nav-item"><a href="/design/" class="nav-link">
  设计
</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">
  开发
</a></div><div class="nav-item"><a href="/sites.html" class="nav-link">
  站点
</a></div><div class="nav-item"><a href="/tools.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/projects/" class="nav-link">
  项目
</a></div><div class="nav-item"><a href="/books.html" class="nav-link">
  书单
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="快捷入口" class="dropdown-title"><span class="title">快捷入口</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/yupaits" target="_blank" rel="noopener noreferrer" class="nav-link external">
  语雀
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yupaits" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yupaits" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/u/yupaits/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dev/java/java-base/serialize-deserialize.html" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  English
</a></li></ul></div></div> <a href="https://github.com/yupaits" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/" class="sidebar-link">软件开发</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据结构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/data-structure/common-data-structure.html" class="sidebar-link">常见数据结构</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/algorithm/search.html" class="sidebar-link">查找算法</a></li><li><a href="/dev/algorithm/sort.html" class="sidebar-link">排序算法</a></li><li><a href="/dev/algorithm/graph.html" class="sidebar-link">图算法</a></li><li><a href="/dev/algorithm/bit-operation.html" class="sidebar-link">位运算</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>设计模式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/design-pattern/overview.html" class="sidebar-link">设计模式概述</a></li><li><a href="/dev/design-pattern/gof-23-patterns.html" class="sidebar-link">GoF的23种设计模式的分类和功能</a></li><li><a href="/dev/design-pattern/singleton.html" class="sidebar-link">单例模式</a></li><li><a href="/dev/design-pattern/factory.html" class="sidebar-link">工厂模式</a></li><li><a href="/dev/design-pattern/decorator.html" class="sidebar-link">装饰模式</a></li><li><a href="/dev/design-pattern/adapter.html" class="sidebar-link">适配器模式</a></li><li><a href="/dev/design-pattern/observer.html" class="sidebar-link">观察者模式</a></li><li><a href="/dev/design-pattern/chain-of-responsibility.html" class="sidebar-link">责任链模式</a></li><li><a href="/dev/design-pattern/strategy.html" class="sidebar-link">策略模式</a></li><li><a href="/dev/design-pattern/composite.html" class="sidebar-link">合成模式</a></li><li><a href="/dev/design-pattern/template-method.html" class="sidebar-link">模板方法模式</a></li><li><a href="/dev/design-pattern/proxy.html" class="sidebar-link">代理模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>分布式系统原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/distribution/distribution-system.html" class="sidebar-link">分布式系统</a></li><li><a href="/dev/distribution/cap.html" class="sidebar-link">CAP理论</a></li><li><a href="/dev/distribution/eventually-consistent.html" class="sidebar-link">最终一致性</a></li><li><a href="/dev/distribution/idempotent.html" class="sidebar-link">幂等操作</a></li><li><a href="/dev/distribution/disaster-tolerance.html" class="sidebar-link">可容灾分布式系统设计</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>大型网络应用架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/web-architecture/architecture-factors.html" class="sidebar-link">架构五要素</a></li><li><a href="/dev/web-architecture/mq.html" class="sidebar-link">消息中间件</a></li><li><a href="/dev/web-architecture/cache.html" class="sidebar-link">缓存</a></li><li><a href="/dev/web-architecture/load-balance.html" class="sidebar-link">负载均衡</a></li><li><a href="/dev/web-architecture/cluster.html" class="sidebar-link">集群技术</a></li><li><a href="/dev/web-architecture/data-sync.html" class="sidebar-link">数据同步</a></li><li><a href="/dev/web-architecture/high-availability.html" class="sidebar-link">高可用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/java/java-base/basic-datatypes.html" class="sidebar-link">基本数据类型</a></li><li><a href="/dev/java/java-base/operator.html" class="sidebar-link">运算符</a></li><li><a href="/dev/java/java-base/choose-loop.html" class="sidebar-link">选择与循环语句</a></li><li><a href="/dev/java/java-base/class-object.html" class="sidebar-link">类与对象</a></li><li><a href="/dev/java/java-base/extend-implements.html" class="sidebar-link">继承与实现</a></li><li><a href="/dev/java/java-base/exception.html" class="sidebar-link">异常</a></li><li><a href="/dev/java/java-base/package-jar.html" class="sidebar-link">package与jar包</a></li><li><a href="/dev/java/java-base/serialize-deserialize.html" class="active sidebar-link">序列化与反序列化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#序列化与反序列化-2" class="sidebar-link">序列化与反序列化</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#java对象的序列化与反序列化" class="sidebar-link">Java对象的序列化与反序列化</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#相关接口及类" class="sidebar-link">相关接口及类</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#serializable接口" class="sidebar-link">Serializable接口</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#externalizable接口" class="sidebar-link">Externalizable接口</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#objectoutput和objectinput接口" class="sidebar-link">ObjectOutput和ObjectInput接口</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#objectoutputstream类和objectinputstream类" class="sidebar-link">ObjectOutputStream类和ObjectInputStream类</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#transient关键字" class="sidebar-link">transient关键字</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#序列化id" class="sidebar-link">序列化ID</a></li><li class="sidebar-sub-header"><a href="/dev/java/java-base/serialize-deserialize.html#自定义序列化策略" class="sidebar-link">自定义序列化策略</a></li></ul></li><li><a href="/dev/java/java-base/regex.html" class="sidebar-link">正则表达式</a></li><li><a href="/dev/java/java-base/overload-override.html" class="sidebar-link">重载与覆盖</a></li><li><a href="/dev/java/java-base/collection.html" class="sidebar-link">Collection接口</a></li><li><a href="/dev/java/java-base/set.html" class="sidebar-link">Set相关</a></li><li><a href="/dev/java/java-base/list.html" class="sidebar-link">List相关</a></li><li><a href="/dev/java/java-base/queue.html" class="sidebar-link">Queue相关</a></li><li><a href="/dev/java/java-base/map.html" class="sidebar-link">Map相关</a></li><li><a href="/dev/java/java-base/thread.html" class="sidebar-link">Thread</a></li><li><a href="/dev/java/java-base/runnable.html" class="sidebar-link">Runnable</a></li><li><a href="/dev/java/java-base/callable.html" class="sidebar-link">Callable</a></li><li><a href="/dev/java/java-base/thread-state.html" class="sidebar-link">线程状态</a></li><li><a href="/dev/java/java-base/thread-priority.html" class="sidebar-link">优先级</a></li><li><a href="/dev/java/java-base/file.html" class="sidebar-link">File类</a></li><li><a href="/dev/java/java-base/byte-stream.html" class="sidebar-link">字节流</a></li><li><a href="/dev/java/java-base/stream.html" class="sidebar-link">字符流</a></li><li><a href="/dev/java/java-base/convert-stream.html" class="sidebar-link">转换流</a></li><li><a href="/dev/java/java-base/zip-stream.html" class="sidebar-link">压缩流</a></li><li><a href="/dev/java/java-base/tcp.html" class="sidebar-link">TCP编程</a></li><li><a href="/dev/java/java-base/udp.html" class="sidebar-link">UDP编程</a></li><li><a href="/dev/java/java-base/generic.html" class="sidebar-link">Java泛型</a></li><li><a href="/dev/java/java-base/reflection-api.html" class="sidebar-link">提供api方法取得类的结构</a></li><li><a href="/dev/java/java-base/invoke.html" class="sidebar-link">调用类的方法</a></li><li><a href="/dev/java/java-base/dynamic-proxy.html" class="sidebar-link">动态代理</a></li><li><a href="/dev/java/java-base/ArrayList.html" class="sidebar-link">ArrayList</a></li><li><a href="/dev/java/java-base/LinkedList.html" class="sidebar-link">LinkedList</a></li><li><a href="/dev/java/java-base/CopyOnWriteArrayList.html" class="sidebar-link">CopyOnWriteArrayList</a></li><li><a href="/dev/java/java-base/HashMap.html" class="sidebar-link">HashMap</a></li><li><a href="/dev/java/java-base/LinkedHashMap.html" class="sidebar-link">LinkedHashMap</a></li><li><a href="/dev/java/java-base/ConcurrentHashMap.html" class="sidebar-link">ConcurrentHashMap</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java进阶知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/java/java-advanced/java-keywords.html" class="sidebar-link">Java关键字</a></li><li><a href="/dev/java/java-advanced/regex.html" class="sidebar-link">正则表达式</a></li><li><a href="/dev/java/java-advanced/lock.html" class="sidebar-link">常见锁</a></li><li><a href="/dev/java/java-advanced/common-libs.html" class="sidebar-link">常用Java类库</a></li><li><a href="/dev/java/java-advanced/system-property.html" class="sidebar-link">Java的System.getProperty()方法使用</a></li><li><a href="/dev/java/java-advanced/lambda.html" class="sidebar-link">Java8函数式编程（lambda表达式）</a></li><li><a href="/dev/java/java-advanced/java-thread.html" class="sidebar-link">Java多线程知识点</a></li><li><a href="/dev/java/java-advanced/threadlocal.html" class="sidebar-link">ThreadLocal原理机制</a></li><li><a href="/dev/java/java-advanced/hashmap-expansion.html" class="sidebar-link">HashMap的扩容机制</a></li><li><a href="/dev/java/java-advanced/exception.html" class="sidebar-link">Java异常Exception</a></li><li><a href="/dev/java/java-advanced/problems.html" class="sidebar-link">常见问题</a></li><li><a href="/dev/java/java-advanced/nio.html" class="sidebar-link">NIO介绍</a></li><li><a href="/dev/java/java-advanced/tomcat-nio-model.html" class="sidebar-link">深度解读Tomcat中的NIO模型</a></li><li><a href="/dev/java/java-advanced/epoll-selector.html" class="sidebar-link">epoll浅析以及nio中的Selector</a></li><li><a href="/dev/java/java-advanced/linux-io.html" class="sidebar-link">Linux IO模式及select、poll、epoll详解</a></li><li><a href="/dev/java/java-advanced/thread-1.html" class="sidebar-link">Java多线程知识汇总(1)</a></li><li><a href="/dev/java/java-advanced/thread-2.html" class="sidebar-link">Java多线程知识汇总(2)</a></li><li><a href="/dev/java/java-advanced/thread-3.html" class="sidebar-link">Java多线程知识汇总(3)</a></li><li><a href="/dev/java/java-advanced/jdk-concurrent-class.html" class="sidebar-link">JDK并发包里常用的类</a></li><li><a href="/dev/java/java-advanced/concurrent-collection.html" class="sidebar-link">Java并发源码合集</a></li><li><a href="/dev/java/java-advanced/netty.html" class="sidebar-link">Netty长连接服务</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JVM虚拟机</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/java/java-jvm/jvm-mem.html" class="sidebar-link">内存结构</a></li><li><a href="/dev/java/java-jvm/class-loader.html" class="sidebar-link">类加载机制</a></li><li><a href="/dev/java/java-jvm/gc.html" class="sidebar-link">垃圾回收</a></li><li><a href="/dev/java/java-jvm/jvm-params.html" class="sidebar-link">JVM参数</a></li><li><a href="/dev/java/java-jvm/console.html" class="sidebar-link">JVM自带命令</a></li><li><a href="/dev/java/java-jvm/tuning-collection.html" class="sidebar-link">JVM调优</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Spring</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/spring/spring-transactions.html" class="sidebar-link">深入理解Spring事务原理</a></li><li><a href="/dev/spring/spring-knowledge-points.html" class="sidebar-link">Spring知识点</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Spring Boot</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Spring Cloud</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/spring-cloud/service-discovery.html" class="sidebar-link">快速搭建微服务-注册中心、服务发现</a></li><li><a href="/dev/spring-cloud/undertow.html" class="sidebar-link">快速搭建微服务-服务容器</a></li><li><a href="/dev/spring-cloud/ribbon.html" class="sidebar-link">快速搭建微服务-服务调用</a></li><li><a href="/dev/spring-cloud/config-server.html" class="sidebar-link">快速搭建微服务-配置中心</a></li><li><a href="/dev/spring-cloud/bus-amqp.html" class="sidebar-link">快速搭建微服务-消息总线</a></li><li><a href="/dev/spring-cloud/hystrix.html" class="sidebar-link">快速搭建微服务-熔断器</a></li><li><a href="/dev/spring-cloud/admin-dashboard.html" class="sidebar-link">快速搭建微服务-服务监控</a></li><li><a href="/dev/spring-cloud/sleuth.html" class="sidebar-link">快速搭建微服务-服务链路追踪</a></li><li><a href="/dev/spring-cloud/security.html" class="sidebar-link">快速搭建微服务-服务安全</a></li><li><a href="/dev/spring-cloud/api-gateway.html" class="sidebar-link">快速搭建微服务-API网关</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Golang</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/golang/gin-doc.html" class="sidebar-link">web框架Gin使用手册</a></li><li><a href="/dev/golang/gorm.html" class="sidebar-link">ORM框架gorm使用手册</a></li><li><a href="/dev/golang/go-spider.html" class="sidebar-link">爬虫框架go_spider</a></li><li><a href="/dev/golang/fyne.html" class="sidebar-link">跨平台GUI工具fyne</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>移动开发</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>微信开发</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/docker/install-docker.html" class="sidebar-link">安装Docker</a></li><li><a href="/dev/docker/Dockerfile.html" class="sidebar-link">Dockerfile指令</a></li><li><a href="/dev/docker/docker-image.html" class="sidebar-link">Docker镜像命令</a></li><li><a href="/dev/docker/docker-container.html" class="sidebar-link">Docker容器命令</a></li><li><a href="/dev/docker/docker-compose-yml.html" class="sidebar-link">docker-compose.yml命令</a></li><li><a href="/dev/docker/docker-compose.html" class="sidebar-link">docker-compose命令</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>玩转树莓派</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/raspberry-pi/go-pi-monitor.html" class="sidebar-link">树莓派运行情况监控</a></li><li><a href="/dev/raspberry-pi/aria2-downloader.html" class="sidebar-link">搭建基于 Aria2 的下载机</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="序列化与反序列化"><a href="#序列化与反序列化" class="header-anchor">#</a> 序列化与反序列化</h1> <blockquote><p>引用自<a href="http://www.importnew.com/18024.html" target="_blank" rel="noopener noreferrer">深入分析Java的序列化与反序列化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="http://www.importnew.com/17964.html" target="_blank" rel="noopener noreferrer">Java对象的序列化与反序列化<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="序列化与反序列化-2"><a href="#序列化与反序列化-2" class="header-anchor">#</a> 序列化与反序列化</h2> <p>序列化（Serialization）是将对象的状态信息转换为可以存储或传输的形式的过程。一般将一个对象存储至一个存储媒介，例如档案或是记忆体缓冲等。在网络传输过程中，可以是字节或是XML等格式。而通过字节或XML编码格式可以还原完全相等的对象，这个还原的过程称为反序列化。</p> <h2 id="java对象的序列化与反序列化"><a href="#java对象的序列化与反序列化" class="header-anchor">#</a> Java对象的序列化与反序列化</h2> <p>在Java中，我们可以通过多种方式来创建对象，并且只要对象没有被回收我们都可以复用该对象。但是，我们创建出来的这些Java对象都是存在于JVM的堆内存中。只有JVM处于运行状态的收，这些对象才可能存在。一旦JVM停止运行，这些对象的状态也就随之丢失了。</p> <p>在真实的应用场景中，我们需要将这些对象持久化下来，并且能够在需要的时候把对象重新读取出来。Java的对象序列化可以帮助我们实现该功能。</p> <p>对象序列化机制（object serialization）是Java语言内建的一种对象持久化方式，通过对象序列化，可以把对象的状态保存为字节数组，并且可以在有需要的时候将这个字节数组通过反序列化的方式再转换成对象。对象序列化可以很容易地在JVM中的活动对象和字节数组（流）之间进行转换。</p> <p>在Java中，对象的序列化和反序列化被广泛应用到RMI（远程方法调用）及网络传输中。</p> <h2 id="相关接口及类"><a href="#相关接口及类" class="header-anchor">#</a> 相关接口及类</h2> <p>Java为了方便开发人员将Java对象进行序列化及反序列化提供了一套方便的API来支持。其中包括以下接口和类：</p> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span>
<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Externalizable</span>
<span class="token class-name">ObjectOutput</span>
<span class="token class-name">ObjectInput</span>
<span class="token class-name">ObjectOutputStream</span>
<span class="token class-name">ObjectInputStream</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="serializable接口"><a href="#serializable接口" class="header-anchor">#</a> Serializable接口</h2> <p>类通过实现<code>java.io.Serializable</code>接口以启用其序列化功能。为实现此接口的类将无法使其任何状态序列化或反序列化。可序列化类的所有子类型本身都是可序列化的。<strong>序列化接口没有方法或字段，仅用于标识可序列化的语义</strong>。</p> <p>当试图对一个对象进行序列化的时候，如果遇到不支持Serializable接口的对象的情况下，将抛出 <code>NotSerializableException</code>。</p> <p>如果要序列化的类有父类，想同时将父类中定义过的变量持久化下来，那么父类也应该继承<code>java.io.Serializable</code>接口。</p> <h2 id="externalizable接口"><a href="#externalizable接口" class="header-anchor">#</a> Externalizable接口</h2> <p>除了Serializable之外，Java中还提供了另一个序列化接口<code>Externalizalbe</code>。</p> <p>Externalizable继承了Serializable，该接口中定义了两个抽象方法：<code>writeExternal()</code> 与 <code>readExternal()</code>。当使用Externalizable接口来进行序列化与反序列化的时候需要开发人员重写<code>wirteExernal()</code> 与 <code>readExternal()</code>方法。在使用Externalizable进行序列化的时候，在读取对象时，会调用被序列化类的无参构造方法去创建一个新的对象，然后再将被保存对象的字段的值分别填充到新对象中。所以，实现Externalizable接口的类必须要提供一个public的无参构造方法。</p> <h2 id="objectoutput和objectinput接口"><a href="#objectoutput和objectinput接口" class="header-anchor">#</a> ObjectOutput和ObjectInput接口</h2> <p>ObjectInput接口扩展自DataInput接口以包含对象的读操作。</p> <blockquote><p>DataInput接口用于从二进制流中读取字节，并根据所有Java基本类型数据进行重构。同时还提供根据UTF-8修改版格式的数据重构String的工具。</p></blockquote> <blockquote><p>对于此接口中的所有数据读取例程来说，如果再读取所需字节数之前已经到达文件末尾（end of file），则将抛出EOFException（IOException的一种）。如果因为到达文件末尾以外的其它原因无法读取字节，则将抛出IOException而不是EOFException。尤其是，再输入流已关闭的情况下，将抛出IOException。</p></blockquote> <p>ObjectOutput扩展DataOutput接口以包含对象的写入操作。</p> <blockquote><p>DataOutput接口用于将数据从任意Java基本类型转换为一系列字节，并将这些字节写入二进制流。同时还提供了一个将String转换成UTF-8修改版格式并写入所得到的系列字节的工具。</p></blockquote> <blockquote><p>对于此接口中写入字节的所有方法，如果由于某种原因无法写入某个字节，将抛出IOException。</p></blockquote> <h2 id="objectoutputstream类和objectinputstream类"><a href="#objectoutputstream类和objectinputstream类" class="header-anchor">#</a> ObjectOutputStream类和ObjectInputStream类</h2> <p>在Java中，一般使用ObjectOutputStream的<code>writeObject</code>方法把一个对象进行持久化。再使用ObjectInputStream的<code>readObject</code>方法从持久化存储中把对象读取出来。</p> <h2 id="transient关键字"><a href="#transient关键字" class="header-anchor">#</a> transient关键字</h2> <p>transient关键字的作用时控制变量的序列化，再变量声明前加上该关键字，可以阻止该变量被序列化到文件中，在被反序列化后，transient变量的值被设为初始值，如 int 型的是0，引用类型是 null。</p> <h2 id="序列化id"><a href="#序列化id" class="header-anchor">#</a> 序列化ID</h2> <p>虚拟机是否允许反序列化，不仅取决于类路径和功能代码是否一致，一个非常重要的一点是两个类的序列化ID是否一致（即类变量 <code>private static final long serialVersionUID</code>）。</p> <p>序列化ID在常见的IDE（如Eclipse、IDEA）中提供了两种生成策略，一个是固定的1L，一个是随机生成的一个不重复的long类型数据（实际上是使用JDK工具生成），在这里有一个建议，如果没有特殊需求，就是用默认的1L就可以，这样可以确保代码一致时反序列化成功。那么随机生成的序列化ID有什么作用呢，有些时候，通过改变序列化ID可以用来限制某些用户的使用。</p> <h2 id="自定义序列化策略"><a href="#自定义序列化策略" class="header-anchor">#</a> 自定义序列化策略</h2> <p>在序列化过程中，如果被序列化的类中定义了<code>writeObject</code>和<code>readObject</code>方法，虚拟机会试图调用对象类里的<code>writeObject</code>和<code>readObject</code>方法，进行用户自定义的序列化和反序列化。</p> <p>如果没有这样的方法，则默认调用的时ObjectOutputStream的<code>defaultWriteObject</code>方法以及ObjectInputStream的<code>defaultReadObject</code>方法。</p> <p>用户自定义的<code>writeObject</code>和<code>readObject</code>方法可以允许用户控制序列化的过程，比如可以在序列化的过程中动态改变序列化的数值。</p> <p>在使用ObjectOutputStream的<code>writeObject</code>方法和ObjectInputStream的<code>readObject</code>方法时，会通过反射的方式调用。<code>writeObject</code>方法会对类型进行检查，要求被序列化的类必须属于Enum、Array和Serializable类型中的任何一种。</p> <p>类型检查的源码如下：</p> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">writeString</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> obj<span class="token punctuation">,</span> unshared<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cl<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">writeArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> unshared<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Enum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">writeEnum</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> obj<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> unshared<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Serializable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">writeOrdinaryObject</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> unshared<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>extendedDebugInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotSerializableException</span><span class="token punctuation">(</span>cl<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span> debugInfoStack<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotSerializableException</span><span class="token punctuation">(</span>cl<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>writeObject</code>的调用栈为：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>writeObject -&gt; writeObject0 -&gt; writeOrdinaryObject -&gt; writeSerialData -&gt; invokeWriteObject
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/yupaits/blog/edit/master/post/dev/java/java-base/serialize-deserialize.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-2-4 19:21:28</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dev/java/java-base/package-jar.html" class="prev">
        package与jar包
      </a></span> <span class="next"><a href="/dev/java/java-base/regex.html">
        正则表达式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.be6754e0.js" defer></script><script src="/assets/js/2.b231213b.js" defer></script><script src="/assets/js/150.b4ba514a.js" defer></script>
  </body>
</html>
